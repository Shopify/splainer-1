#!/usr/bin/env ruby
require 'pathname'

# path to your application root.
APP_ROOT = Pathname.new File.expand_path('../../',  __FILE__)

command, *rest = ARGV

Dir.chdir APP_ROOT do
  case command
  when 'build', 'b'
    system 'docker build -t splainer .'
  when 'bash', 'c'
    system 'docker exec -it -name splainer bash'
  when 'destroy', 'd'
    system 'docker kill splainer'
  when 'server', 's'
    system 'docker run -d -p 9000:9000 --name splainer splainer:latest'
  else
    puts 'Unknown option (build|b, bash|c, destroy|d, server|s)'
  end
end
